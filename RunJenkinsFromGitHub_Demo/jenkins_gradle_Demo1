		pipeline {
			agent none

			tools {
				gradle 'Gradle_7.6'
			}

			options {
				skipDefaultCheckout true
			}

			environment {
				projName = "gradle-javacpp-android"
			  }
			  

			stages {
				stage("Checkout Stage") {
					agent { label 'master' }

					steps {
						deleteDir()
						echo "Checkout ${env.projName}..."

						checkout changelog: false,
						poll: false,
						scm: [$class: 'GitSCM',
							branches: [[name: '*master']],
							extensions: [[$class: 'SparseCheckoutPaths',
							sparseCheckoutPaths: [[path: "${env.projName}"]]]],
							userRemoteConfigs: [[url: 'https:github.combytedecosample-projects.git']]]
					}
				}

				stage("Gradle Build") {
					agent { label 'master' }
					
					steps {
						echo "Gradle building ${env.projName} project..."
						bat "${projName}/gradlew.bat build"
					}
				}
			}
		}
